<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Kembel Biodiversity Workflow • Arbor</title>
    <meta name="description" content="Use R package ‘picante’ to explore and analyze community data.

">
    <meta name="keywords" content="">
    
    	<!-- Twitter Cards -->
	<meta name="twitter:title" content="Kembel Biodiversity Workflow">
	<meta name="twitter:description" content="Use R package ‘picante’ to explore and analyze community data.

">
	<meta name="twitter:site" content="@lukejharmon">
	
	
	<meta name="twitter:card" content="summary">
	<meta name="twitter:image" content="/images/120x120.gif">
	
	<!-- Open Graph -->
	<meta property="og:locale" content="en_US">
	<meta property="og:type" content="article">
	<meta property="og:title" content="Kembel Biodiversity Workflow">
	<meta property="og:description" content="Use R package ‘picante’ to explore and analyze community data.

">
	<meta property="og:url" content="/tutorials/Kembel-documentation/">
	<meta property="og:site_name" content="Arbor">

    <link rel="canonical" href="/tutorials/Kembel-documentation/">

    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Arbor Atom Feed">
    <link href="/sitemap.xml" type="application/xml" rel="sitemap" title="Sitemap">

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cleartype" content="on">

    <link rel="stylesheet" href="/css/main.css">
    <!-- HTML5 Shiv and Media Query Support for IE -->
    <!--[if lt IE 9]>
      <script src="/js/vendor/html5shiv.min.js"></script>
      <script src="/js/vendor/respond.min.js"></script>
    <![endif]-->

  </head>

  <body id="js-body">
    <!--[if lt IE 9]><div class="upgrade notice-warning"><strong>Your browser is quite old!</strong> Why not <a href="http://whatbrowser.org/">upgrade to a newer one</a> to better enjoy this site?</div><![endif]-->

    <header id="masthead">
  <div class="inner-wrap">
    <a href="/" class="site-title">Arbor</a>
    <nav role="navigation" class="menu top-menu">
        <ul class="menu-item">
	<li class="home"><a href="/">Arbor</a></li>
	
    
    <li><a href="/help/" >Help</a></li>
  
    
    <li><a href="/usearbor/" >Use Arbor</a></li>
  
    
    <li><a href="/documentation/" >Docs & tutorials</a></li>
  
    
    <li><a href="/build/" >Developers</a></li>
  
    
    <li><a href="/team/" >Contact</a></li>
  
</ul>

    </nav>
  </div><!-- /.inner-wrap -->
</header><!-- /.masthead -->

    <nav role="navigation" id="js-menu" class="sliding-menu-content">
  <h5>Arbor <span>Table of Contents</span></h5>
  <ul class="menu-item">
    <li>
      <a href="/help/">
        <img src="/images/400x250.gif" alt="teaser" class="teaser">
        <div class="title">Help</div>
        <p class="excerpt">Get help</p>
      </a>
    </li><li>
      <a href="/usearbor/">
        <img src="/images/400x250.gif" alt="teaser" class="teaser">
        <div class="title">Use Arbor</div>
        <p class="excerpt">Run Arbor over the web or install it yourself</p>
      </a>
    </li><li>
      <a href="/documentation/">
        <img src="/images/400x250.gif" alt="teaser" class="teaser">
        <div class="title">Docs & tutorials</div>
        <p class="excerpt">Full documentation for functions and workflows</p>
      </a>
    </li><li>
      <a href="/build/">
        <img src="/images/400x250.gif" alt="teaser" class="teaser">
        <div class="title">Developers</div>
        <p class="excerpt">Add to the Arbor code base</p>
      </a>
    </li><li>
      <a href="/team/">
        <img src="/images/400x250.gif" alt="teaser" class="teaser">
        <div class="title">Contact</div>
        <p class="excerpt">Contact us</p>
      </a>
    </li>
  </ul>
</nav>
<button type="button" id="js-menu-trigger" class="sliding-menu-button lines-button x2" role="button" aria-label="Toggle Navigation">
  <span class="nav-lines"></span>
</button>

<div id="js-menu-screen" class="menu-screen"></div>


    <div id="page-wrapper">
      <div id="main" role="main">
	<article class="wrap" itemscope itemtype="http://schema.org/Article">
		
		
  <nav class="breadcrumbs">
    <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
      <a href="" itemprop="url">
        <span itemprop="title">Home</span>
      </a> ›
    <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
      <a href="/tutorials/" itemprop="url">
        <span itemprop="title">Tutorials</span>
      </a>
    </span>
  </nav><!-- /.breadcrumbs -->


		<div class="page-title">
			<h1>Kembel Biodiversity Workflow</h1>
		</div>
		<div class="inner-wrap">
			<div id="content" class="page-content" itemprop="articleBody">
				<h2 id="use-r-package-picante-to-explore-and-analyze-community-data">Use R package ‘picante’ to explore and analyze community data.</h2>

<p>This tutorial will guide the user through Steven Kembel’s biodiversity workflow developed for the R package ‘picante’.  Picante allows users to analyze community ecology data sets in a multivariate and phylogenetic context.</p>

<p>Documentation for picante can be found at <a href="https://cran.r-project.org/web/packages/picante/index.html">https://cran.r-project.org/web/packages/picante/index.html</a>, and the original workflow can be found at <a href="http://kembellab.ca/r-workshop/biodivR/SK_Biodiversity_R.html">http://kembellab.ca/r-workshop/biodivR/SK_Biodiversity_R.html</a>.</p>

<p>The Arbor instance we will be using for this tutorial can be located at <a href="http://52.204.9.236/#">http://52.204.9.236/</a>.  To prepare for the tutorial, sign in using your username and password and highlight the eyeball icon next to the KembelBiodiversityWorkshop directory.</p>

<p><img src="/assets/KembelBiodiversity/KBWScreenshot1b.png" alt="Screenshot" /></p>

<h2 id="loading-example-data">Loading example data</h2>

<p>This tutorial will use files containing species traits, species abundances, a species phylogeny, and community metadata. These files are saved in the Arbor instance, and are called:</p>
<ul>
  <li>species.traits.csv (KembelBiodiversityWorkshop)</li>
  <li>grassland.community.csv (KembelBiodiversityWorkshop)</li>
  <li>plot.metadata.csv (KembelBiodiversityWorkshop)</li>
  <li>grassland.phylogeny.newick (KembelBiodiversityWorkshop)</li>
</ul>

<p>If you wish to download and view a file, select it from the dropdown list at the bottom of the Arbor homepage and click the download button.</p>

<p><img src="/assets/KembelBiodiversity/KBWScreenshot2.png" alt="Screenshot" /></p>

<h2 id="run-the-data-visualization-and-transformation-workflow">Run the data visualization and transformation workflow</h2>

<p>Before we run any analysis on the data, we are first going to transform and standardize it.  To accomplish this, we will use the ‘KBW.1.enter.visualize.and.transform.data.workflow (KembelBiodiversityWorkshop)’ workflow.  Begin by clicking on the ‘Analysis’ tab, then select ‘KBW.1.enter.visualize.and.transform.data.workflow (KembelBiodiversityWorkshop)’ from the dropdown menu.</p>

<p><img src="/assets/KembelBiodiversity/KBWScreenshot3.png" alt="Screenshot" /></p>

<p>Next, click on the blue ‘Set up and run’ button.  You will see a popup box listing the outputs of the modules in your workflow.  Note the gray text next to the output; it denotes the format of the output.  For example, <strong>treePlot</strong>’s output will be formatted as an image.  At the bottom of the box, select the input files</p>
<ul>
  <li>‘species.traits.csv (KembelBiodiversityWorkshop)’ for <strong>traits</strong></li>
  <li>‘grassland.phylogeny.newick (KembelBiodiversityWorkshop)’ for <strong>phylogeny</strong></li>
  <li>‘grassland.community.csv (KembelBiodiversityWorkshop)’ for <strong>comm</strong></li>
  <li>‘plot.metadata.csv (KembelBiodiversityWorkshop)’  for <strong>metadata</strong></li>
</ul>

<p>To start the analysis, click the blue ‘Run’ button.</p>

<p><img src="/assets/KembelBiodiversity/KBWScreenshot4.png" alt="Screenshot" /></p>

<p>Now let’s have a look at the outputs of our analysis.  Outputs can be viewed under the ‘Visualization’ tab.  To access a given output, select the class of output from the dropdown menu under <strong>select visualization</strong>.  Next, pull up the output you wish to view from the dropdown menu under <strong>data</strong>.  Finally, click on the blue ‘Update’ button.  You can click the downward pointing chevron to the right of your login information to collapse the interface to get an unobstructed view of your output.  Clicking on this arrow a second time returns the interface to the screen.  Let’s have a look at the transformed data produced by the workflow.</p>

<p><img src="/assets/KembelBiodiversity/KBWScreenshot5.png" alt="Screenshot" /></p>

<p>To download the output, return to the ‘Data Management’ tab and scroll to the bottom of the screen.  Under <strong>Save or download data</strong> you are able to select your output from the drop down menu.  Next, select the desired file format (.png or .jpeg for images such as our plots), and click the blue ‘Download’ button.</p>

<p><img src="/assets/KembelBiodiversity/KBWScreenshot6.png" alt="Screenshot" /></p>

<p>You will need to save intermediate data files to your Arbor directory to continue using them. For this tutorial, be sure to save these files into the directory called ‘KembelBiodiversityWorkshop’</p>
<ul>
  <li>‘KBW.1.enter.visualize.and.transform.data.workflow metadata 3.csv’</li>
  <li>‘KBW.1.enter.visualize.and.transform.data.workflow comm.after.decostand.no.rownames.csv’</li>
  <li>‘KBW.1.enter.visualize.and.transform.data.workflow comm.after.decostand.with.rownames.csv’</li>
</ul>

<h2 id="run-the-visualizing-and-summarizing-biodiversity-data-workflow">Run the visualizing and summarizing biodiversity data workflow</h2>

<p>This workflow allows the user to run preliminary analyses to describe differences in biodiversity between habitats.  The workflow is accessed and initiated in the same manner as before.  Start by clicking the ‘Analysis’ tab, then select ‘KBW.1.enter.visualizing.and.summarizing.biodiversity.data.workflow (KembelBiodiversityWorkshop)’ from the dropdown menu.</p>

<p><img src="/assets/KembelBiodiversity/KBWScreenshot7.png" alt="Screenshot" /></p>

<p>Proceed by clicking on the blue ‘Set up and run’ button and selecting the input files.  For this analysis, we will be using files produced by the data visualization and transformation workflow.  These files contain data that have been normalized and reformatted to fit the functions contained in Arbor.  Select ‘KBW.1.enter.visualize.and.transform.data.workflow metadata 3.csv (KembelBiodiversityWorkshop)’ for <strong>metadata</strong> and ‘KBW.1.enter.visualize.and.transform.data.workflow comm.after.decostand.no.rownames.csv (KembelBiodiversityWorkshop)’ for <strong>comm.total</strong>.  The input <strong>column_to_aggregate</strong>  draws its selection from the metadata file and contains several choices.  For this tutorial, select ‘habitat’.  Finally, click the blue ‘Run’ button.</p>

<p><img src="/assets/KembelBiodiversity/KBWScreenshot8.png" alt="Screenshot" /></p>

<p>Our analysis has performed a t-test on the number of species between habitats and plotted the inverse Simpson’s index by habitat.  The outputs of this analysis can be visualized in the same fashion as above.  Under the ‘Visualization’ tab select a class of output from the dropdown menu under <strong>select visualization</strong>, then select the desired output under <strong>data</strong>.  Finally, click on the blue ‘Update’ button.</p>

<h2 id="run-the-multivariate-community-analysis-workflow">Run the multivariate community analysis workflow</h2>

<p>We may also be interested in performing multivariate analyses on our data.  To begin, access the multivariate community analysis workflow by clicking the ‘Analysis’ tab and selecting ‘KBW.1.multivariate.community.analysis.workflow (KembelBiodiversityWorkshop)’ from the dropdown menu.</p>

<p><img src="/assets/KembelBiodiversity/KBWScreenshot12.png" alt="Screenshot" /></p>

<p>Next, click the blue ‘Set up and run’ button and select the input files. As before, this analysis is formatted to accept the files produced by the data visualization and transformation workflow. Select ‘KBW.1.enter.visualize.and.transform.data.workflow comm.after.decostand.with.rownames.csv (KembelBiodiversityWorkshop)’ for <strong>comm.total</strong> and ‘KBW.1.enter.visualize.and.transform.data.workflow metadata 3.csv (KembelBiodiversityWorkshop)’ for <strong>metadata</strong>. Initiate the analysis by clicking the blue ‘Run’ button.</p>

<p><img src="/assets/KembelBiodiversity/KBWScreenshot13.png" alt="Screenshot" /></p>

<p>The outputs of this analysis can be visualized as before. Under the ‘Visualization’ tab select a class of output from the dropdown menu under <strong>select visualization</strong>, then select the desired output under <strong>data</strong>. Finally, click on the blue ‘Update’ button.</p>

<h2 id="examine-the-r-scripts-for-each-module">Examine the R scripts for each module</h2>

<p>Arbor workflows are constructed using modules that can be assembled as needed to fit the specific needs of your analysis.   To view the script for a module, click the ‘Show script’ button under the analysis tab.  You can also choose to download the module as a .json file by clicking on the blue ‘Download’ button.</p>

<p><img src="/assets/KembelBiodiversity/KBWScreenshot11.png" alt="Screenshot" /></p>

				<hr />
				<footer class="page-footer">
					<p>




  
        <div class="author-image">
        	<img src="/images/kelly.jpg" alt="Joseph Kelly">
        </div><!-- ./author-image -->
        <div class="author-content">
        	<h3 class="author-name" >Written by <span itemprop="author">Joseph Kelly</span></h3>
        	<p class="author-bio">Doctoral Student at Stony Brook University</p>
        </div><!-- ./author-content -->
    
  
        <div class="author-image">
        	<img src="/images/bob.jpeg" alt="Bob Thacker">
        </div><!-- ./author-image -->
        <div class="author-content">
        	<h3 class="author-name" >Written by <a href="https://www.stonybrook.edu/commcms/ecoevo/people/faculty_pages/thacker.html" itemprop="author">Bob Thacker</a></h3>
        	<p class="author-bio">Professor and Department Chairperson at Stony Brook University</p>
        </div><!-- ./author-content -->
    
</p>

					<div class="inline-btn">
	<a class="btn-social twitter" href="https://twitter.com/intent/tweet?text=Kembel%20Biodiversity%20Workflow&amp;url=/tutorials/Kembel-documentation/&amp;via=lukejharmon" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i> Share on Twitter</a>
	<a class="btn-social facebook" href="https://www.facebook.com/sharer/sharer.php?u=/tutorials/Kembel-documentation/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i> Share on Facebook</a>
	<a class="btn-social google-plus"  href="https://plus.google.com/share?url=/tutorials/Kembel-documentation/" target="_blank"><i class="fa fa-google-plus" aria-hidden="true"></i> Share on Google+</a>
</div><!-- /.share-this -->
					<div class="page-meta">
	<p>Updated <time datetime="2018-09-10T00:00:00Z" itemprop="datePublished">September 10, 2018</time></p>
</div><!-- /.page-meta -->
				</footer><!-- /.footer -->
				<aside>
					<hr />
<div id="disqus_thread"></div>
<script type="text/javascript">
	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
	var disqus_shortname = 'arborworkflows';

	/* * * DON'T EDIT BELOW THIS LINE * * */
	(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

				</aside>
			</div><!-- /.content -->
		</div><!-- /.inner-wrap -->
		
	</article><!-- ./wrap -->
</div><!-- /#main -->

      <footer role="contentinfo" id="site-footer">
	<nav role="navigation" class="menu bottom-menu">
		<ul class="menu-item">
		
      
			<li><a href="/" >Home</a></li>
		
      
			<li><a href="/getting-started/" >Getting Started</a></li>
		
      
			<li><a href="/about/" >About</a></li>
		
      
			<li><a href="/team/" >Team</a></li>
		
		</ul>
	</nav><!-- /.bottom-menu -->
	<p class="copyright">&#169; 2018 <a href="/">Arbor</a> powered by <a href="http://jekyllrb.com">Jekyll</a> + <a href="http://mmistakes.github.io/skinny-bones-jekyll/">Skinny Bones</a>.</p>
</footer>

    </div>

    <script src="/js/vendor/jquery-1.9.1.min.js"></script>
    <script src="/js/main.js"></script>

  </body>
</html>
